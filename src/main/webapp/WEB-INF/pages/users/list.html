<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <style>
            table.styled-table {
                border-collapse: separate;
                border: 2px solid black;
                border-spacing: 4px;
            }
            .styled-table td {
                padding: 5px;
                border: 1px solid lightgray;
                text-align: center;
            }
            .styled-table th {
                padding: 10px;
                border: 1px solid black;
                background-color: cyan;
            }
        </style>
        <title>Список пользователей</title>
    </head>
    <body>
        <form action="/users?action=showCreateUserForm" method="POST">
            <table>
                <tr>
                    <td align="right" th:insert="header :: accountSection">
                    </td>
                </tr>
                <tr>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <table class="styled-table">
                            <tr>
                                <th>Пользователь</th>
                                <th>Действия</th>
                            </tr>
                            <tr th:each="user : ${users}">
                                <td th:if="${!user.name.equals('admin')}">
                                    <a th:href="@{/users?action=show(userId=${user.id})}"
                                       th:text="${user.name + #strings.prepend(user.surname, ' ')}">Имя Фамилия пользователя</a>
                                </td>
                                <td th:if="${!user.name.equals('admin')}">
                                    <a th:href="@{/users?action=delete(userId=${user.id})}">Удалить</a>
                                    <br>
                                    <a th:href="@{/users?action=showUpdateUserForm(userId=${user.id})}">Изменить</a>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <input type="submit" value="Добавить пользователя">
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </form>
    </body>
</html>